#define $t \
  rec $t; \
  1->2 \
  {^cont: \
    $t; \
   ^end: \
    $end; \
  }

global $t t(1,2);
local Select($t(1 of 1,2) s, unsafe Int n)
( if n <= 0u
  then s[2]<<^end;
  else s[2]<<^cont; Select(s,n-1u);
)
s=new t(1 of 2);
Select(s,10000000u);
|
local Branch($t(2 of 1,2) s)
( s[1]>>
  {^cont: Branch(s);
   ^end:
  }
)
s=new t(2 of 2);
Branch(s);
